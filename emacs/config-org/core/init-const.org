* init-const.el
:PROPERTIES:
:HEADER-ARGS: :tangle (concat temporary-file-directory "init-const.el") :lexical t
:END:

** Headers
#+BEGIN_SRC emacs-lisp
  ;;; init-const.el -- Config for Const -*- lexical-binding: t; -*-

  ;; Filename: init-const.el
  ;; Description: Config for Const
  ;; Author: mcge <mcgeq@outlook.com>
  ;; Copyright (C) 2024, mcge, all rights reserved.
  ;; Create   Date: 2025-01-04 15:00:00
  ;; Version: 0.1
  ;; Modified   By: 2025-01-04 15:46:46
  ;; Keywords:
  ;; Compatibility: GNU Emacs 31.0.50

  ;;; Commentary:
  ;;
  ;; Config for Const
  ;;

  ;;; Installation:
  ;;
  ;; Put init-const.el to your load-path.
  ;; The load-path is usually ~/elisp/.
  ;; It's set in your ~/.emacs like this:
  ;; (add-to-list 'load-path (expand-file-name "~/elisp"))
  ;;
  ;; And the following to your ~/.emacs startup file.
  ;;
  ;; (require 'init-const)
  ;;
  ;; No need more.

  ;;; Customize:
  ;;
  ;;
  ;;
  ;; All of the above can customize by:
  ;;      M-x customize-group RET init-aider RET
  ;;

  ;;; Change log:
  ;;

#+END_SRC


** Judge Operation System
#+BEGIN_SRC emacs-lisp
(defconst *is-win32p*
  (memq system-type '(cygwin windows-nt ms-dos))
  "Running on a WinNT System.")

(defconst *is-linux*
  (eq system-type 'gnu/linux)
  "Running on a GNU/Linux System.")

(defconst *is-mac*
  (eq system-type 'darwin)
  "Running on a MacOS System.")
#+END_SRC

** GUI window-system
#+BEGIN_SRC emacs-lisp
;; GUI `window-system'
(defconst *is-gui-p*
  (memq window-system '(x w32 ns pc pgtk))
  "Currently running in terminal mode.")
#+END_SRC

** Set font
#+BEGIN_SRC emacs-lisp
(defvar mcg--fonts-default '("Cascadia Mono" "FiraCode Nerd Font" "DejaVuSansMono Nerd Font Mono" "Consolas" "Source Code Pro" "Hack" "Fira Code"))
(defvar mcg--fonts-unicode '("Symbola" "Segoe UI Symbol" "Symbol"))
(defvar mcg--fonts-emoji    '("Noto Color Emoji" "Apple Color Emoji"))
(defvar mcg--fonts-cjk     '("KaiTi" "WenQuanYi Micro Hei" "Microsoft Yahei UI" "Microsoft Yahei" "STFangsong"))
(defvar mcgemacs-custom-icon-font-family "FiraCode Nerd Font")
#+END_SRC

** Emacs version
#+BEGIN_SRC emacs-lisp
(defconst emacs/>=29p
  (>= emacs-major-version 29)
"Emacs is 29 or above.")
#+END_SRC

** Custom some directory
#+BEGIN_SRC emacs-lisp
      ;; 定义 emacs 配置文件目录上级目录
      (defvar mcgemacs-custom-dir (if *is-win32p* (file-truename "D:/config")
                                    (file-truename "~")))
      ;; 自定义博客目录
      (defvar mcgemacs-blog-dir      (if *is-win32p* (file-truename "D:/workspaces/blog/mcge-blog")
                                       (file-truename "~/workspaces/blog/mcge-blog")))

      (defvar mcgemacs-blog-org-dir  (concat mcgemacs-blog-dir "/content-org"))
      ;; 自定义 org 目录
      (defvar mcgemacs-org-dir       (if *is-win32p* (file-truename "D:/org")
                                       (file-truename "~/org")))
      ;; 定义一些启动目录，方便下次迁移
      (defvar mcgemacs-root-dir      (concat mcgemacs-custom-dir "/dotfiles/emacs"))
      (defvar mcgemacs-config-dir    (concat mcgemacs-root-dir "/config-org"))
      (defvar mcgemacs-extension-dir (concat mcgemacs-root-dir "/extensions"))

      ;; custom lsp-bridge
      (defvar mcgemacs-custom-lsp-bridge-langserver-dir (concat mcgemacs-root-dir "/langservers"))
      (defvar mcgemacs-custom-lsp-bridge-multiserver-dir (concat mcgemacs-root-dir "/multiservers"))

      ;; ⚠️ 注意：Org mode 路径变量已迁移到独立的配置系统
      ;; 
      ;; 新的 Org mode 配置使用统一的 mcg-org-* 命名空间
      ;; 所有 Org 相关变量现在定义在: org/init-org-vars.org
      ;;
      ;; 使用方法:
      ;;   (require 'init-org-loader)
      ;;   (mcg-org-init)
      ;;
      ;; 完整文档: org/README-ORG-CONFIG.org
#+END_SRC

** Set image size
#+BEGIN_SRC emacs-lisp
;; image size
(defvar mcge/image-scale-mode-step 1.2
    "Image scale factor.")
#+END_SRC

** Rime
#+BEGIN_SRC emacs-lisp
;; emacs-rime user data
(defvar mcgemacs-rime-user-data-dir (if *is-linux* (expand-file-name "~/.config/fcitx/rime")
                                      (expand-file-name (concat mcgemacs-custom-dir "/rime"))))

#+END_SRC

** Custom C# paths
#+BEGIN_SRC emacs-lisp :tangle no
(defvar mcgemacs-eglot-csharp-dir (if *is-win32p* (file-truename "D:/lsp/csharp")
                                    (file-truename "~/lsp/csharp")))
#+END_SRC

** Ends
#+BEGIN_SRC emacs-lisp
(provide 'init-const)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; init-const.el ends here
#+END_SRC
