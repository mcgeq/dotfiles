* init-awesome-tray.el
:PROPERTIES:
:HEADER-ARGS: :tangle (concat temporary-file-directory "init-awesome-tray.el") :lexical t
:END:

** Headers
#+BEGIN_SRC emacs-lisp
  ;;; init-awesome-tray.el -- Config for modeline -*- lexical-binding: t; -*-

  ;; Filename: init.el
  ;; Description: Config for modeline
  ;; Author: mcge <mcgeq@outlook.com>
  ;; Copyright (C) 2024, mcge, all rights reserved.
  ;; Create   Date: 2025-01-04 15:00:00
  ;; Version: 0.1
  ;; Modified   By:  mcge <mcgeq@outlook.com>
  ;; Last Modified:  <2025-01-10 Fri 10:38>
  ;; Keywords:
  ;; Compatibility: GNU Emacs 31.0.50

  ;;; Commentary:
  ;;
  ;; Config for modeline
  ;;

  ;;; Installation:
  ;;
  ;; Put init-awesome-tray.el to your load-path.
  ;; The load-path is usually ~/elisp/.
  ;; It's set in your ~/.emacs like this:
  ;; (add-to-list 'load-path (expand-file-name "~/elisp"))
  ;;
  ;; And the following to your ~/.emacs startup file.
  ;;
  ;; (require 'init-awesome-tray)
  ;;
  ;; No need more.

  ;;; Customize:
  ;;
  ;;
  ;;
  ;; All of the above can customize by:
  ;;      M-x customize-group RET init-aider RET
  ;;

  ;;; Change log:
  ;;

#+END_SRC


** Require
#+BEGIN_SRC emacs-lisp
  ;;; Require:
  (require 'awesome-tray)

#+END_SRC

** Code
#+BEGIN_SRC emacs-lisp
  ;;; Code:
  (setq awesome-tray-position 'center)
  (setq awesome-tray-date-format "[%-Y-%-m-%-d %a %-H:%M]") ; 包含星期几
  
  ;; Git 显示格式自定义（已禁用）
  ;; (setq awesome-tray-git-format "git:%s")        ; Git 格式：git:branchname
  ;; (setq awesome-tray-git-show-status nil)        ; 不显示文件状态符号（!, +, - 等）
  
  ;; 丰富的模块显示
  ;; 可用模块: git, location, belong, mode-name, date, buffer-name, 
  ;;          parent-dir, file-path, input-method, battery, word-count,
  ;;          volume, hostname, github, anzu 等
  (setq awesome-tray-active-modules 
        '("buffer-name"    ; Buffer 名称
          "mode-name"      ; 主模式
          "location"       ; 光标位置 (行:列)
          "belong"         ; 当前函数/类
          "parent-dir"     ; 父目录名
          "input-method"   ; 输入法状态
          "date"))         ; 日期时间
  
  ;; 样式配置
  (setq awesome-tray-info-padding-right 1)
  (setq awesome-tray-second-line t)  ; 使用第二行显示
  
  ;; Buffer 名称配置
  (setq awesome-tray-buffer-name-buffer-changed t)  ; 修改时高亮
  (setq awesome-tray-buffer-name-max-length 30)     ; 最大长度
  
  ;; 输入法样式
  (setq awesome-tray-input-method-default-style "EN")  ; 英文状态
  (setq awesome-tray-input-method-local-style "中")    ; 中文状态
  
  ;; 隐藏 mode-line，只显示 awesome-tray
  (setq-default mode-line-format nil)
  
  (awesome-tray-mode 1)
#+END_SRC

** Ends
#+BEGIN_SRC emacs-lisp

  (provide 'init-awesome-tray)
  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  ;;; init-awesome-tray.el ends here
#+END_SRC
