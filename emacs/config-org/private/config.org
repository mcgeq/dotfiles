#+TITLE: Private Configuration Module
#+AUTHOR: mcge
#+PROPERTY: header-args:emacs-lisp :tangle config.el :lexical t

* Private Configuration Module

本模块是用户私有配置文件，在所有其他模块加载完成后加载，允许用户覆盖主配置中的任何设置。
此文件不被 Git 跟踪（.gitignore），因此您的个人设置保持私密。

** File Header

#+begin_src emacs-lisp
;;; config.el --- Private user configuration -*- lexical-binding: t; -*-

;; Copyright (C) 2024 MCG
;; Author: MCG
;; Keywords: configuration, private

;;; Commentary:
;;
;; This is your private configuration file for MCG Emacs.
;; It is loaded AFTER all other modules, allowing you to override
;; any settings from the main configuration.
;;
;; This file is NOT tracked by Git (.gitignore), so your personal
;; settings remain private.
;;
;; Requirements: 13.1, 13.3
;;
;; Usage:
;;   1. Edit this file to customize your Emacs experience
;;   2. Restart Emacs or run M-x mcg-reload-config
;;
;; Available customization options are documented below.

;;; Code:
#+end_src

** Path Configuration

基础目录配置，用于设置个人文件路径。

#+begin_src emacs-lisp
;; Base directory for your personal files
;; Windows example: "D:/config"
;; Linux/macOS example: (expand-file-name "~")
;; (setq mcg-user-base-dir "D:/config")

;; Org files directory
;; (setq mcg-org-dir (expand-file-name "org" mcg-user-base-dir))

;; Blog/Hugo directory
;; (setq mcg-blog-dir (expand-file-name "blog" mcg-user-base-dir))
#+end_src

** UI Customization

界面自定义配置，包括主题、字体等设置。

#+begin_src emacs-lisp
;; Theme selection
;; Available: 'ef-day 'ef-night 'ef-spring 'ef-summer 'ef-autumn 'ef-winter
;;            'modus-operandi 'modus-vivendi
;; (setq mcg-theme 'ef-day)

;; Font configuration
;; ASCII font family
;; (setq mcg-font-family "FiraCode Nerd Font Mono")

;; Font size (in points)
;; (setq mcg-font-size 14)

;; CJK (Chinese/Japanese/Korean) font
;; (setq mcg-cjk-font "Microsoft YaHei")

;; Enable/disable line numbers
;; (setq mcg-enable-line-numbers t)

;; Line number style: 'relative 'absolute nil
;; (setq display-line-numbers-type 'relative)
#+end_src

** Editor Behavior

编辑器行为配置，包括缩进、自动保存等设置。

#+begin_src emacs-lisp
;; Use spaces instead of tabs
;; (setq-default indent-tabs-mode nil)

;; Tab width
;; (setq-default tab-width 4)

;; Enable auto-save
;; (setq mcg-enable-auto-save t)

;; Auto-save interval (seconds)
;; (setq auto-save-idle 5)
#+end_src

** LSP Configuration

LSP 语言服务器配置。

#+begin_src emacs-lisp
;; LSP backend: 'lsp-bridge (recommended)
;; (setq mcg-lsp-backend 'lsp-bridge)

;; Enable/disable LSP diagnostics
;; (setq lsp-bridge-enable-diagnostics t)

;; Enable/disable hover documentation
;; (setq lsp-bridge-enable-hover-diagnostic t)
#+end_src

** Completion System

补全系统配置。

#+begin_src emacs-lisp
;; Vertico display count
;; (setq vertico-count 15)

;; Enable pinyin search for Chinese users
;; (setq mcg-enable-pinyin-search t)
#+end_src

** Input Method (Rime)

Rime 输入法配置。

#+begin_src emacs-lisp
;; Rime user data directory
;; Windows: "D:/config/rime"
;; Linux: "~/.config/fcitx/rime"
;; macOS: "~/Library/Rime"
;; (setq rime-user-data-dir "D:/config/rime")
#+end_src

** Org Mode Configuration

Org 模式配置。

#+begin_src emacs-lisp
;; Enable Org mode
;; (setq mcg-enable-org t)

;; Org directory
;; (setq org-directory "~/org")

;; Agenda files
;; (setq org-agenda-files '("~/org/tasks.org" "~/org/projects.org"))

;; Custom capture templates
;; (setq org-capture-templates
;;       '(("t" "Task" entry (file+headline "~/org/tasks.org" "Tasks")
;;          "* TODO %?\n  %i\n  %a")
;;         ("n" "Note" entry (file+headline "~/org/notes.org" "Notes")
;;          "* %?\n  %i\n  %a")))
#+end_src

** Language-Specific Settings

语言特定设置。

#+begin_src emacs-lisp
;; Python
;; (setq python-shell-interpreter "python3")

;; Rust
;; (setq rust-format-on-save t)

;; TypeScript/JavaScript
;; (setq js-indent-level 2)
;; (setq typescript-indent-level 2)

;; Web mode
;; (setq web-mode-markup-indent-offset 2)
;; (setq web-mode-css-indent-offset 2)
;; (setq web-mode-code-indent-offset 2)
#+end_src

** Performance Tuning

性能调优配置。

#+begin_src emacs-lisp
;; GC threshold (bytes) - higher = less GC, more memory
;; Default: 16MB, Recommended for performance: 100MB
;; (setq gc-cons-threshold (* 100 1024 1024))

;; Enable native compilation (Emacs 29+)
;; (setq native-comp-async-report-warnings-errors nil)

;; Enable profiling mode for debugging startup time
;; (setq mcg-profile-mode t)

;; Enable debug mode for verbose logging
;; (setq mcg-debug-mode t)
#+end_src

** Custom Keybindings

自定义快捷键配置。

#+begin_src emacs-lisp
;; Add your custom keybindings here
;; Use mcg-bind-key for conflict detection:
;; (mcg-bind-key "C-c m" #'my-custom-command "private/config")

;; Or use standard global-set-key:
;; (global-set-key (kbd "C-c m") #'my-custom-command)
#+end_src

** Custom Functions

自定义函数区域。

#+begin_src emacs-lisp
;; Add your custom functions here
;; Example:
;; (defun my-custom-function ()
;;   "My custom function."
;;   (interactive)
;;   (message "Hello from private config!"))
#+end_src

** Module Overrides

模块覆盖配置，由于私有配置最后加载，这些设置将优先生效。

#+begin_src emacs-lisp
;; Override module settings here
;; Since private config loads last, these will take precedence

;; Example: Override theme after UI module loads
;; (with-eval-after-load 'init-theme
;;   (load-theme 'modus-vivendi t))

;; Example: Add extra hooks after a module loads
;; (with-eval-after-load 'init-rust
;;   (add-hook 'rust-mode-hook #'my-rust-setup))
#+end_src

** Startup Message

启动消息配置。

#+begin_src emacs-lisp
;; Uncomment to show a message when private config loads
;; (mcg-log "Private configuration loaded")
#+end_src

** Provide Feature

#+begin_src emacs-lisp
(provide 'config)
;;; config.el ends here
#+end_src
