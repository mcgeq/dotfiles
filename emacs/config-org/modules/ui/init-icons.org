* init-icons.el
:PROPERTIES:
:HEADER-ARGS: :tangle init-icons.el :lexical t
:END:

** Headers
#+BEGIN_SRC emacs-lisp
  ;;; init-icons.el --- Nerd Icons Configuration for MCG Emacs -*- lexical-binding: t; -*-

  ;; Filename: init-icons.el
  ;; Description: Nerd icons configuration module
  ;; Author: mcge <mcgeq@outlook.com>
  ;; Copyright (C) 2024-2026, mcge, all rights reserved.
  ;; Create   Date: 2026-01-09
  ;; Version: 3.0
  ;; Keywords: icons, ui, nerd-icons
  ;; Compatibility: GNU Emacs 29.0+

  ;;; Commentary:
  ;;
  ;; Icons module for MCG Emacs configuration, responsible for:
  ;; - nerd-icons configuration
  ;; - nerd-icons-completion integration
  ;;
  ;; Module metadata:
  ;; :depends ()
  ;; :defer nil
  ;;

#+END_SRC

** Dependencies
#+BEGIN_SRC emacs-lisp
;;; Dependencies

(require 'core-lib)

#+END_SRC

** Variables
#+BEGIN_SRC emacs-lisp
;;; Variables

(defvar mcg-ui-icon-font-family "FiraCode Nerd Font"
  "Icon font family name.")

#+END_SRC

** Nerd Icons Configuration
#+BEGIN_SRC emacs-lisp
;;; Nerd Icons Configuration

(defun mcg-ui-setup-nerd-icons ()
  "Set up nerd-icons.
Path is already added to load-path by core-bootstrap's mcg-setup-load-path."
  (require 'nerd-icons nil t)
  
  (when (featurep 'nerd-icons)
    ;; Set icon font
    (setq nerd-icons-font-family mcg-ui-icon-font-family)
    
    ;; Load nerd-icons-completion
    (require 'nerd-icons-completion nil t)
    
    (when (featurep 'nerd-icons-completion)
      (nerd-icons-completion-mode 1)
      (add-hook 'marginalia-mode-hook #'nerd-icons-completion-marginalia-setup)
      (mcg-log "nerd-icons-completion configured")))
  
  (mcg-log "nerd-icons configured"))

#+END_SRC

** Initialize
#+BEGIN_SRC emacs-lisp
;;; Initialize

;; Set up icons
(mcg-ui-setup-nerd-icons)

#+END_SRC

** Provide
#+BEGIN_SRC emacs-lisp
(provide 'init-icons)
;;; init-icons.el ends here
#+END_SRC
