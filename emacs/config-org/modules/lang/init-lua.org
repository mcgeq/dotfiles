* init-lua.el
:PROPERTIES:
:HEADER-ARGS: :tangle init-lua.el :lexical t
:END:

** Headers
#+BEGIN_SRC emacs-lisp
;;; init-lua.el --- Lua Development for MCG Emacs -*- lexical-binding: t; -*-

;; Filename: init-lua.el
;; Description: Lua development module
;; Author: mcge <mcgeq@outlook.com>
;; Copyright (C) 2024-2026, mcge, all rights reserved.
;; Create   Date: 2026-01-07
;; Version: 3.0
;; Keywords: lua
;; Compatibility: GNU Emacs 29.0+

;;; Commentary:
;;
;; Lua development module for MCG Emacs, responsible for:
;; - Lua mode configuration
;; - LSP integration (lua-language-server)
;;
;; Module metadata:
;; :depends (+lsp)
;; :defer t
;; :mode ("\\.lua\\'")
;;

#+END_SRC

** Dependencies
#+BEGIN_SRC emacs-lisp
;;; Dependencies

(require 'core-lib)

#+END_SRC

** Lua Mode Configuration
#+BEGIN_SRC emacs-lisp
;;; Lua Mode Configuration

(defun mcg--setup-lua-mode ()
  "Setup Lua mode."
  (when (mcg-require-extension "lang/lua-mode" 'lua-mode)
    ;; Indentation settings
    (setq lua-indent-level 4)
    (setq lua-indent-nested-block-content-align nil)
    
    (mcg-log "Lua mode configured")))

(defun mcg--lua-mode-hook ()
  "Lua mode hook."
  ;; LSP is handled by global-lsp-bridge-mode, no need to enable manually
  )

#+END_SRC

** Initialize
#+BEGIN_SRC emacs-lisp
;;; Initialize

(mcg--setup-lua-mode)

;; Add hook
(add-hook 'lua-mode-hook #'mcg--lua-mode-hook)

#+END_SRC

** Provide
#+BEGIN_SRC emacs-lisp
(provide 'init-lua)
;;; init-lua.el ends here
#+END_SRC
