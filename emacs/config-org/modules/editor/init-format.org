* init-format.el
:PROPERTIES:
:HEADER-ARGS: :tangle init-format.el :lexical t
:END:

** Headers
#+BEGIN_SRC emacs-lisp
;;; init-format.el --- Text Formatting Configuration for MCG Emacs -*- lexical-binding: t; -*-

;; Filename: init-format.el
;; Description: Text formatting module (formerly init-wraplish)
;; Author: mcge <mcgeq@outlook.com>
;; Copyright (C) 2024-2026, mcge, all rights reserved.
;; Create   Date: 2026-01-07
;; Modified Date: 2026-01-09
;; Version: 3.0
;; Keywords: wraplish, chinese, spacing, format
;; Compatibility: GNU Emacs 29.0+

;;; Commentary:
;;
;; Text formatting module for MCG Emacs, responsible for:
;; - Automatically adding spaces between Chinese and English text
;;
;; This module was renamed from init-wraplish to init-format
;; as part of the input -> editor category merge.
;;

#+END_SRC

** Dependencies
#+BEGIN_SRC emacs-lisp
;;; Dependencies

(require 'core-lib)

#+END_SRC

** Variables
#+BEGIN_SRC emacs-lisp
;;; Variables

(defvar mcg-wraplish-modes
  '(markdown-mode-hook
    markdown-ts-mode-hook
    org-mode-hook
    prog-mode-hook)
  "List of modes to enable wraplish.")

#+END_SRC

** Configuration
#+BEGIN_SRC emacs-lisp
;;; Configuration

(defun mcg--setup-wraplish ()
  "Setup wraplish Chinese-English mixed text."
  (when (mcg-require-extension "editor/wraplish" 'wraplish)
    (dolist (hook mcg-wraplish-modes)
      (add-hook hook (lambda () (wraplish-mode 1))))
    
    (mcg-log "Configured wraplish")))

#+END_SRC

** Initialize
#+BEGIN_SRC emacs-lisp
;;; Initialize

(mcg--setup-wraplish)

#+END_SRC

** Provide
#+BEGIN_SRC emacs-lisp
(provide 'init-format)
;;; init-format.el ends here
#+END_SRC
