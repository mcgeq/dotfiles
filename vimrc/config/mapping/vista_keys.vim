vim9script
# ============================================================================
# Vista 快捷键配置
# vista.vim: 代码大纲和符号导航
# ============================================================================

# ----------------------------------------------------------------------------
# 基本操作
# ----------------------------------------------------------------------------

# 打开/关闭 Vista（推荐使用 F8，方便切换）
nnoremap <silent> <F8> :Vista!!<CR>

# 使用 leader 键也可以切换
nnoremap <silent> <leader>v :Vista!!<CR>

# 强制关闭 Vista
nnoremap <silent> <leader>vq :Vista!<CR>

# ----------------------------------------------------------------------------
# 符号查找
# ----------------------------------------------------------------------------

# 模糊搜索符号（当前文件）
nnoremap <silent> <leader>vf :Vista finder<CR>

# 模糊搜索符号（所有文件）
nnoremap <silent> <leader>vF :Vista finder!<CR>

# ----------------------------------------------------------------------------
# 后端切换
# ----------------------------------------------------------------------------

# 使用 CoC 后端（推荐，需要 LSP）
nnoremap <silent> <leader>vc :Vista coc<CR>

# 使用 ctags 后端（不需要 LSP，但需要 ctags）
nnoremap <silent> <leader>vt :Vista ctags<CR>

# 使用 vim-lsp 后端
nnoremap <silent> <leader>vl :Vista vim_lsp<CR>

# ----------------------------------------------------------------------------
# 信息查看
# ----------------------------------------------------------------------------

# 显示 Vista 信息
nnoremap <silent> <leader>vi :Vista info<CR>

# 显示详细信息
nnoremap <silent> <leader>vI :Vista info+<CR>

# ----------------------------------------------------------------------------
# Vista 窗口内快捷键（自动激活）
# ----------------------------------------------------------------------------
# 在 Vista 窗口中可用：
# - Enter: 跳转到符号
# - p: 预览符号
# - s: 排序
# - q: 关闭窗口
# - /: 搜索

# vim: set ft=vim sw=2 ts=2 sts=2 et:
