# harpoon - æ–‡ä»¶å¿«é€Ÿæ ‡è®°å’Œè·³è½¬

## ğŸ“– ç®€ä»‹

`harpoon` æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ–‡ä»¶æ ‡è®°å’Œå¿«é€Ÿè·³è½¬æ’ä»¶ã€‚å®ƒè®©ä½ å¯ä»¥"æ ‡è®°"å¸¸ç”¨æ–‡ä»¶ï¼Œç„¶åé€šè¿‡æ•°å­—é”®å¿«é€Ÿè·³è½¬ï¼Œéå¸¸é€‚åˆåœ¨å›ºå®šçš„å‡ ä¸ªæ–‡ä»¶é—´é¢‘ç¹åˆ‡æ¢ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- âœ… æ ‡è®°å½“å‰æ–‡ä»¶
- âœ… é€šè¿‡æ•°å­—é”®å¿«é€Ÿè·³è½¬åˆ°æ ‡è®°çš„æ–‡ä»¶
- âœ… æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ ‡è®°
- âœ… æŒ‰é¡¹ç›®ç‹¬ç«‹ç®¡ç†æ ‡è®°
- âœ… è½»é‡çº§ï¼Œå‡ ä¹æ— æ€§èƒ½å¼€é”€

## âš™ï¸ å·¥ä½œåŸç†

```
ä½ åœ¨å¼€å‘ä¸€ä¸ªåŠŸèƒ½ï¼Œéœ€è¦é¢‘ç¹åœ¨è¿™äº›æ–‡ä»¶é—´åˆ‡æ¢ï¼š
1. src/App.tsx          (ä¸»ç»„ä»¶)
2. src/api/user.ts      (API è°ƒç”¨)
3. src/store/user.ts    (çŠ¶æ€ç®¡ç†)
4. src/types/user.ts    (ç±»å‹å®šä¹‰)

ä¼ ç»Ÿæ–¹å¼ï¼š<leader>ff -> æœç´¢ -> é€‰æ‹© (å¤šæ­¥éª¤)
Harpoonï¼š  <C-1> ç›´æ¥è·³è½¬åˆ° App.tsx (ä¸€æ­¥)
```

## âŒ¨ï¸ å¿«æ·é”®

### åŸºæœ¬æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½ | è¯´æ˜ |
|--------|------|------|
| `<leader>a` | æ ‡è®°å½“å‰æ–‡ä»¶ | Add to harpoon |
| `<leader>h` | æ‰“å¼€ Harpoon èœå• | æŸ¥çœ‹æ‰€æœ‰æ ‡è®° |
| `<C-h>` | è·³è½¬åˆ°æ ‡è®° 1 | ç¬¬ä¸€ä¸ªæ ‡è®°çš„æ–‡ä»¶ |
| `<C-j>` | è·³è½¬åˆ°æ ‡è®° 2 | ç¬¬äºŒä¸ªæ ‡è®°çš„æ–‡ä»¶ |
| `<C-k>` | è·³è½¬åˆ°æ ‡è®° 3 | ç¬¬ä¸‰ä¸ªæ ‡è®°çš„æ–‡ä»¶ |
| `<C-l>` | è·³è½¬åˆ°æ ‡è®° 4 | ç¬¬å››ä¸ªæ ‡è®°çš„æ–‡ä»¶ |

### Harpoon èœå•å†…æ“ä½œ

æ‰“å¼€èœå•åï¼ˆ`<leader>h`ï¼‰ï¼š

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `j/k` | ä¸Šä¸‹ç§»åŠ¨ |
| `<CR>` | è·³è½¬åˆ°é€‰ä¸­æ–‡ä»¶ |
| `dd` | åˆ é™¤æ ‡è®° |
| `<C-c>` | å…³é—­èœå• |

## ğŸ”¥ ä½¿ç”¨åœºæ™¯

### 1. å…¨æ ˆåŠŸèƒ½å¼€å‘

```typescript
// åœºæ™¯ï¼šå¼€å‘ç”¨æˆ·è®¤è¯åŠŸèƒ½

// 1. æ ‡è®°å‰ç«¯ç»„ä»¶
// src/components/Login.tsx
<leader>a  // æ ‡è®°ä¸ºä½ç½® 1

// 2. æ ‡è®° API å±‚
// src/api/auth.ts
<leader>a  // æ ‡è®°ä¸ºä½ç½® 2

// 3. æ ‡è®°åç«¯è·¯ç”±
// server/routes/auth.ts
<leader>a  // æ ‡è®°ä¸ºä½ç½® 3

// 4. æ ‡è®°æµ‹è¯•æ–‡ä»¶
// tests/auth.test.ts
<leader>a  // æ ‡è®°ä¸ºä½ç½® 4

// ç°åœ¨å¯ä»¥å¿«é€Ÿè·³è½¬
<C-h>  // è·³è½¬åˆ° Login.tsx
<C-j>  // è·³è½¬åˆ° API å±‚
<C-k>  // è·³è½¬åˆ°åç«¯è·¯ç”±
<C-l>  // è·³è½¬åˆ°æµ‹è¯•æ–‡ä»¶
```

### 2. Bug ä¿®å¤å·¥ä½œæµ

```javascript
// Bug æ¶‰åŠè¿™äº›æ–‡ä»¶
// src/components/UserProfile.tsx    (UI bug)
// src/hooks/useUser.ts             (æ•°æ®è·å–)
// src/store/userSlice.ts           (çŠ¶æ€é—®é¢˜)

// æ ‡è®°æ‰€æœ‰ç›¸å…³æ–‡ä»¶
<leader>a  // åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­æ ‡è®°

// åœ¨æ–‡ä»¶é—´å¿«é€Ÿè·³è½¬è°ƒè¯•
<C-h>  // UI ç»„ä»¶
<C-j>  // Hook
<C-k>  // Store

// ä¸éœ€è¦åå¤æœç´¢æ–‡ä»¶å
```

### 3. ä»£ç å®¡æŸ¥

```rust
// å®¡æŸ¥ä¸€ä¸ªå¤§çš„ PRï¼Œæ¶‰åŠå¤šä¸ªæ–‡ä»¶
// src/main.rs
// src/lib.rs
// src/utils/parser.rs
// tests/integration_test.rs

// æ ‡è®°æ‰€æœ‰éœ€è¦å®¡æŸ¥çš„æ–‡ä»¶
// æŒ‰é€»è¾‘é¡ºåºè·³è½¬æŸ¥çœ‹
<C-h> -> <C-j> -> <C-k> -> <C-l>
```

### 4. é‡æ„å¤šä¸ªæ–‡ä»¶

```python
# é‡æ„ API ç›¸å…³ä»£ç 
# api/views.py
# api/serializers.py
# api/urls.py
# api/tests.py

# æ ‡è®°æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
# åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­å¿«é€Ÿåˆ‡æ¢
```

## ğŸ’¡ å®ç”¨æŠ€å·§

### 1. å·¥ä½œæµç¨‹

```
å¼€å§‹æ–°ä»»åŠ¡ï¼š
1. æ‰“å¼€ä¸»è¦æ–‡ä»¶ -> <leader>a (æ ‡è®°)
2. æ‰“å¼€ç¬¬äºŒä¸ªæ–‡ä»¶ -> <leader>a (æ ‡è®°)
3. æ‰“å¼€ç¬¬ä¸‰ä¸ªæ–‡ä»¶ -> <leader>a (æ ‡è®°)
...

å·¥ä½œæ—¶ï¼š
<C-h> <C-j> <C-k> <C-l>  å¿«é€Ÿè·³è½¬

ä»»åŠ¡å®Œæˆï¼š
<leader>h  æ‰“å¼€èœå•
dd dd dd   æ¸…é™¤æ‰€æœ‰æ ‡è®°ï¼ˆå‡†å¤‡ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰
```

### 2. ç»“åˆå…¶ä»–å·¥å…·

```vim
" æœç´¢æ–‡ä»¶å¹¶æ ‡è®°
<leader>ff  " æœç´¢æ–‡ä»¶
<CR>        " æ‰“å¼€æ–‡ä»¶
<leader>a   " æ ‡è®°æ–‡ä»¶

" åœ¨ä»£ç é—´è·³è½¬å¹¶æ ‡è®°
gd          " è·³è½¬åˆ°å®šä¹‰
<leader>a   " æ ‡è®°å®šä¹‰ä½ç½®
<C-o>       " è¿”å›
```

### 3. ç®¡ç†æ ‡è®°

```vim
" æŸ¥çœ‹æ‰€æœ‰æ ‡è®°
<leader>h

" èœå•æ˜¾ç¤ºï¼š
" 1. src/App.tsx
" 2. src/api/user.ts
" 3. src/store/user.ts
" 4. src/types/user.ts

" å¯ä»¥ä½¿ç”¨ dd åˆ é™¤ä¸éœ€è¦çš„æ ‡è®°
" æˆ–è€…æŒ‰ j/k ç§»åŠ¨åæŒ‰ <CR> è·³è½¬
```

### 4. é¡¹ç›®åˆ‡æ¢æ—¶æ ‡è®°ä¿æŒ

```vim
" é¡¹ç›® A çš„æ ‡è®°
Project A:
1. src/main.ts
2. src/utils.ts

" åˆ‡æ¢åˆ°é¡¹ç›® B
<leader>fp  " åˆ‡æ¢é¡¹ç›®

" é¡¹ç›® B æœ‰ç‹¬ç«‹çš„æ ‡è®°
Project B:
1. app/index.py
2. app/models.py

" åˆ‡æ¢å›é¡¹ç›® Aï¼Œæ ‡è®°è¿˜åœ¨
<leader>fp  " å›åˆ°é¡¹ç›® A
<C-h>       " ä¾ç„¶è·³è½¬åˆ° main.ts
```

## ğŸ¨ å·¥ä½œæµç¤ºä¾‹

### å‰ç«¯ç»„ä»¶å¼€å‘

```typescript
// å¼€å‘ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨åŠŸèƒ½
1. components/UserList.tsx      <leader>a
2. hooks/useUsers.ts            <leader>a
3. api/users.ts                 <leader>a
4. types/User.ts                <leader>a

// å¼€å‘è¿‡ç¨‹
<C-h>  ç¼–è¾‘ç»„ä»¶ UI
<C-j>  ä¿®æ”¹ hook é€»è¾‘
<C-k>  è°ƒæ•´ API è°ƒç”¨
<C-l>  æ›´æ–°ç±»å‹å®šä¹‰
```

### åç«¯ API å¼€å‘

```go
// å¼€å‘ RESTful API
1. handlers/user.go       <leader>a
2. services/user.go       <leader>a
3. models/user.go         <leader>a
4. routes/routes.go       <leader>a

// å¿«é€Ÿåœ¨å„å±‚ä¹‹é—´è·³è½¬
<C-h>  Handler å±‚
<C-j>  Service å±‚
<C-k>  Model å±‚
<C-l>  è·¯ç”±é…ç½®
```

## âš™ï¸ é…ç½®è¯´æ˜

### è‡ªå®šä¹‰å¿«æ·é”®

```lua
{
  "ThePrimeagen/harpoon",
  keys = {
    { "<leader>a", function() require("harpoon.mark").add_file() end, desc = "Add to harpoon" },
    { "<leader>h", function() require("harpoon.ui").toggle_quick_menu() end, desc = "Harpoon menu" },
    
    -- è‡ªå®šä¹‰è·³è½¬é”®
    { "<leader>1", function() require("harpoon.ui").nav_file(1) end, desc = "Harpoon file 1" },
    { "<leader>2", function() require("harpoon.ui").nav_file(2) end, desc = "Harpoon file 2" },
    { "<leader>3", function() require("harpoon.ui").nav_file(3) end, desc = "Harpoon file 3" },
    { "<leader>4", function() require("harpoon.ui").nav_file(4) end, desc = "Harpoon file 4" },
  }
}
```

### è‡ªå®šä¹‰èœå•å¤–è§‚

```lua
{
  "ThePrimeagen/harpoon",
  opts = {
    menu = {
      width = vim.api.nvim_win_get_width(0) - 4,
      height = 10,
    }
  }
}
```

## ğŸ“š æœ€ä½³å®è·µ

### 1. æ ‡è®°ç­–ç•¥

```
å»ºè®®æ ‡è®°æ•°é‡ï¼š3-5 ä¸ªæ–‡ä»¶
- å¤ªå°‘ï¼šé¢‘ç¹æ›´æ¢æ ‡è®°
- å¤ªå¤šï¼šè®°ä¸ä½ä½ç½®

æ¨èæ¨¡å¼ï¼š
1. ä¸»è¦å·¥ä½œæ–‡ä»¶
2. æµ‹è¯•æ–‡ä»¶
3. é…ç½®/ç±»å‹æ–‡ä»¶
4. ç›¸å…³ä¾èµ–æ–‡ä»¶
```

### 2. æ¸…ç†ä¹ æƒ¯

```vim
" ä»»åŠ¡å®Œæˆåæ¸…ç†æ ‡è®°
<leader>h
dd dd dd dd  " æ¸…é™¤æ‰€æœ‰

" æˆ–è€…åªä¿ç•™å¸¸ç”¨æ–‡ä»¶
" ä½¿ç”¨ dd é€‰æ‹©æ€§åˆ é™¤
```

### 3. ä¸ Telescope é…åˆ

```vim
" Telescope ç”¨äºé¦–æ¬¡å®šä½æ–‡ä»¶
<leader>ff  " æœç´¢æ–‡ä»¶
<CR>        " æ‰“å¼€
<leader>a   " æ ‡è®°

" Harpoon ç”¨äºå·²çŸ¥æ–‡ä»¶å¿«é€Ÿè·³è½¬
<C-h>       " ç›´æ¥è·³è½¬
```

## ğŸ†š å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ

| æ–¹å¼ | æ­¥éª¤ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|------|
| Telescope | `<leader>ff` -> æœç´¢ -> é€‰æ‹© | é€‚åˆæŸ¥æ‰¾æ–°æ–‡ä»¶ | æ­¥éª¤å¤š |
| Buffers | `<leader>fb` -> é€‰æ‹© | æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€æ–‡ä»¶ | æ–‡ä»¶å¤šæ—¶éš¾æ‰¾ |
| Harpoon | `<C-h>` | ä¸€æ­¥åˆ°ä½ | éœ€è¦æå‰æ ‡è®° |

**ç»“è®º**ï¼šHarpoon é€‚åˆåœ¨å›ºå®šçš„å‡ ä¸ªæ–‡ä»¶é—´é¢‘ç¹åˆ‡æ¢ã€‚

## ğŸ”— ç›¸å…³èµ„æº

- [GitHub - harpoon](https://github.com/ThePrimeagen/harpoon)
- [AstroCommunity æ’ä»¶é¡µ](https://github.com/AstroNvim/astrocommunity/tree/main/lua/astrocommunity/motion/harpoon)
- [ThePrimeagen çš„ä½¿ç”¨è§†é¢‘](https://www.youtube.com/watch?v=Qnos8aApa9g)
