# colorful-winsep.nvim - 彩色窗口分隔符

## 📖 简介

colorful-winsep.nvim 美化窗口分隔符，添加颜色和动画效果，让当前活动窗口一目了然。

## 🎯 核心功能

- ✅ 彩色窗口分隔符
- ✅ 当前窗口高亮
- ✅ 平滑动画过渡
- ✅ 自动适配主题
- ✅ 轻量级，无性能影响

## 🎨 视觉对比

### 原生分隔符（灰色单调）

```
┌──────────┐│┌──────────┐
│ Window 1 │││ Window 2 │
│          │││          │
│  main.ts │││ utils.ts │
│          │││          │
└──────────┘│└──────────┘
   灰色、不明显
```

### 彩色分隔符（醒目高亮）

```
┌──────────┐┃┌──────────┐
│ Window 1 │┃│ Window 2 │
│          │┃│          │
│  main.ts │┃│ utils.ts │
│          │┃│          │
└──────────┘┃└──────────┘
   🔵蓝色高亮 + 平滑动画
```

## 💡 使用场景

### 场景 1：多窗口编辑

```vim
" 垂直分割两个文件
:vsplit

# 分隔符效果：
┌────────────┃────────────┐
│   File 1   ┃   File 2   │
│            ┃            │ 
│  function  ┃  import {} │
│  main() {  ┃  from ...  │
│    ...     ┃            │
└────────────┃────────────┘
    当前窗口的分隔符高亮
```

### 场景 2：三分栏布局

```vim
:vsplit
:vsplit

# 效果：
┌─────┃─────┃─────┐
│ 1   ┃ 2   │ 3   │ <- 在窗口2，左侧分隔符高亮
│     ┃     │     │
└─────┃─────┃─────┘
```

### 场景 3：与 edgy.nvim 配合

```vim
<leader>e          # NeoTree
:vsplit            # 分割编辑区

┌────────┃─────┃─────┐
│        ┃     ┃     │
│ Neo    ┃ Ed1 │ Ed2 │
│ Tree   ┃     │     │
│        ┃     │     │
└────────┃─────┃─────┘
 侧边栏   活动窗口   其他窗口
  灰色      高亮     灰色
```

## 🎨 颜色效果

### 活动窗口

```
当前编辑的窗口，分隔符会高亮：
┌──────┃          
│ Edit ┃ <- 蓝色/绿色/紫色（根据主题）
│      ┃          
└──────┃          
```

### 非活动窗口

```
其他窗口，分隔符保持低调：
       │──────┐
       │ Other│ <- 灰色
       │      │
       │──────┘
```

### 切换窗口动画

```
切换前：
┌─────┃─────┐
│ A   ┃ B   │
└─────┃─────┘
  高亮   灰色

Ctrl-l 切换后（动画过渡）：
┌─────┃─────┐
│ A   ┃ B   │
└─────┃─────┘
  灰色   高亮
   ↓     ↑
  淡出   淡入
```

## ⌨️ 窗口导航

### 基本快捷键

```vim
Ctrl-h     " 跳转到左边窗口（分隔符动画）
Ctrl-l     " 跳转到右边窗口（分隔符动画）
Ctrl-j     " 跳转到下边窗口（分隔符动画）
Ctrl-k     " 跳转到上边窗口（分隔符动画）
```

### 窗口操作

```vim
Ctrl-w v   " 垂直分割（新分隔符出现）
Ctrl-w s   " 水平分割（新分隔符出现）
Ctrl-w q   " 关闭窗口（分隔符消失）
Ctrl-w o   " 只保留当前窗口（所有分隔符消失）
```

## 💡 实用技巧

### 1. 快速定位当前窗口

在多窗口环境中，一眼就能看出哪个是活动窗口：

```
┌─────┬─────┃─────┬─────┐
│  1  │  2  ┃  3  │  4  │
└─────┴─────┃─────┴─────┘
           ↑
        当前窗口
```

### 2. 与代码导航配合

```vim
" 跳转到定义
gd

# 如果在新窗口打开
┌──────────┃──────────┐
│ 原文件   ┃ 定义位置  │
│          ┃          │ <- 高亮表示这是新焦点
└──────────┃──────────┘
```

### 3. 编辑-预览工作流

```vim
" Markdown 编辑 + 预览
:vsplit
:MarkdownPreview

┌──────────┃──────────┐
│ editor   ┃ preview  │
│ # Title  ┃  Title   │ <- 切换窗口一目了然
│          ┃          │
└──────────┃──────────┘
```

## 🎨 主题适配

### 亮色主题

```
分隔符使用柔和的蓝色或绿色：
┌──────┃──────┐
│      ┃      │ <- 浅蓝色 #5DADE2
│      ┃      │
└──────┃──────┘
```

### 暗色主题

```
分隔符使用鲜艳的霓虹色：
┌──────┃──────┐
│      ┃      │ <- 亮蓝色 #61AFEF
│      ┃      │
└──────┃──────┘
```

### 高对比度主题

```
分隔符使用强对比色：
┌──────┃──────┐
│      ┃      │ <- 明亮黄色 #FFDD57
│      ┃      │
└──────┃──────┘
```

## ⚙️ 配置选项

### 基础配置

```lua
{
  "nvim-zh/colorful-winsep.nvim",
  opts = {
    -- 高亮颜色
    highlight = {
      fg = "#957CC6",  -- 紫色
    },
    
    -- 是否在浮动窗口显示
    no_exec_files = { "TelescopePrompt", "mason", "lazy" },
    
    -- 平滑间隔（毫秒）
    smooth = true,
    interval = 30,
  },
}
```

### 自定义颜色

```lua
opts = {
  highlight = {
    fg = "#61AFEF",    -- 蓝色
    -- 或使用主题颜色
    -- link = "Function",  -- 链接到函数高亮颜色
  },
}
```

## 🆚 对比普通分隔符

| 特性 | 普通分隔符 | colorful-winsep |
|------|-----------|-----------------|
| 颜色 | 灰色单调 | 彩色高亮 |
| 当前窗口 | 不明显 | 一目了然 |
| 动画 | 无 | 平滑过渡 |
| 视觉效果 | 单调 | 现代美观 |

## 💡 与其他插件配合

### 1. 与 edgy.nvim

```
edgy 管理布局 + colorful-winsep 美化分隔符

┌────────┃──────────┃────────┐
│ Neo    ┃  Editor  │ Aerial │
│ Tree   ┃          │        │
└────────┃──────────┃────────┘
 侧边栏    当前窗口    侧边栏
  灰色      高亮       灰色
```

### 2. 与 windows.nvim

```
windows.nvim 自动调整大小
+ colorful-winsep 高亮分隔符

切换前:
┌─────┃─────┃─────┐
│  1  ┃  2  │  3  │

切换到窗口1后（windows.nvim 扩展 + 分隔符动画）:
┌──────────┃──┃──┐
│    1     ┃ 2│ 3│
└──────────┃──┃──┘
```

### 3. 与 rainbow-delimiter

```
代码内部：彩虹括号
窗口边界：彩色分隔符

┌──────────┃──────────┐
│ {        ┃          │
│   {      ┃          │
│     []   ┃          │
│   }      ┃          │
│ }        ┃          │
└──────────┃──────────┘
 🌈括号     🔵分隔符
```

## 📊 性能

- ✅ **轻量级**：几乎无性能影响
- ✅ **高效渲染**：只更新变化的分隔符
- ✅ **平滑动画**：60fps 流畅过渡
- ✅ **内存占用**：< 1MB

## 🎯 适用场景

### ✅ 推荐使用

- 经常多窗口编辑
- 喜欢视觉化界面
- 需要快速定位当前窗口
- 使用分割布局工作

### ⚠️ 可能不需要

- 只用单窗口编辑
- 喜欢极简界面
- 对颜色敏感

## 📚 总结

**colorful-winsep 的价值**：
- 🎨 **视觉美化** - 现代化的分隔符
- 🎯 **快速定位** - 当前窗口一目了然
- ✨ **动画效果** - 平滑的视觉过渡
- 💎 **零负担** - 轻量级无感知

**最适合**：
- 多窗口工作流
- 追求视觉效果
- 需要清晰的窗口边界
- 现代化编辑体验

让窗口分隔符不再是灰色的线条！🎨
