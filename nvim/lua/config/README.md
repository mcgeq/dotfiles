# é…ç½®è¯´æ˜æ–‡æ¡£

## ğŸ“ ç›®å½•ç»“æ„

```
config/
â”œâ”€â”€ README.md                    # é…ç½®è¯´æ˜æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ constants.lua                # å…¨å±€å¸¸é‡é…ç½®
â”œâ”€â”€ loader.lua                   # é…ç½®åŠ è½½å™¨å·¥å…·
â”œâ”€â”€ auto_update_timestamp.lua    # è‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³
â”œâ”€â”€ lsp_trouble_float.lua        # LSP + Trouble é›†æˆ
â”œâ”€â”€ snippets/
â”‚   â”œâ”€â”€ headers.lua              # æ–‡ä»¶å¤´ snippet ç”Ÿæˆå™¨
â”‚   â””â”€â”€ utils.lua                # Snippet å·¥å…·å‡½æ•°
â””â”€â”€ health.lua                   # å¥åº·æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä¿®æ”¹ä¸ªäººä¿¡æ¯

ç¼–è¾‘ `constants.lua` ä¿®æ”¹ä½ çš„ä¸ªäººä¿¡æ¯ï¼š

```lua
M.user = {
  name = "ä½ çš„åå­—",
  email = "ä½ çš„é‚®ç®±@example.com",
  github = "ä½ çš„GitHubç”¨æˆ·å",
}
```

### 2. æ·»åŠ æ–°è¯­è¨€çš„æ–‡ä»¶å¤´

åœ¨ `constants.lua` ä¸­æ·»åŠ æ–‡ä»¶ç±»å‹æ˜ å°„ï¼š

```lua
M.filetype_to_comment = {
  -- æ·»åŠ æ–°è¯­è¨€
  ruby = "hash",  -- Ruby ä½¿ç”¨ # æ³¨é‡Š
  -- ...
}
```

åœ¨ `constants.lua` ä¸­æ·»åŠ æ—¶é—´æˆ³æ”¯æŒï¼š

```lua
M.timestamp_filetypes = {
  -- æ·»åŠ æ–°æ–‡ä»¶ç±»å‹
  "ruby",
  -- ...
}
```

### 3. è‡ªå®šä¹‰ Snippets

Snippets ä¼šè‡ªåŠ¨æ ¹æ® `constants.lua` ä¸­çš„é…ç½®ç”Ÿæˆã€‚
å¦‚æœéœ€è¦ç‰¹æ®Šæ ¼å¼ï¼Œå¯ä»¥åœ¨ `snippets/headers.lua` ä¸­æ·»åŠ è‡ªå®šä¹‰å‡½æ•°ã€‚

## ğŸ“ åŠŸèƒ½è¯´æ˜

### å¸¸é‡é…ç½® (`constants.lua`)

- **ç”¨æˆ·ä¿¡æ¯**ï¼šé›†ä¸­ç®¡ç†ä¸ªäººä¿¡æ¯ï¼Œåœ¨ snippets å’Œæ–‡ä»¶å¤´ä¸­ä½¿ç”¨
- **æ³¨é‡Šé£æ ¼**ï¼šå®šä¹‰ä¸åŒç¼–ç¨‹è¯­è¨€çš„æ³¨é‡Šé£æ ¼
- **æ–‡ä»¶ç±»å‹æ˜ å°„**ï¼šå°†æ–‡ä»¶ç±»å‹æ˜ å°„åˆ°æ³¨é‡Šé£æ ¼
- **æ—¶é—´æˆ³æ–‡ä»¶ç±»å‹**ï¼šæ”¯æŒè‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³çš„æ–‡ä»¶ç±»å‹

### é…ç½®åŠ è½½å™¨ (`loader.lua`)

æä¾›å®‰å…¨çš„æ¨¡å—åŠ è½½å’Œé…ç½®åˆå¹¶å·¥å…·ï¼š

- `safe_require()` - å®‰å…¨åŠ è½½æ¨¡å—ï¼Œå¤±è´¥æ—¶è¿”å› nil
- `load_config()` - åŠ è½½é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒé»˜è®¤å€¼
- `deep_merge()` - æ·±åº¦åˆå¹¶é…ç½®è¡¨

### è‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³ (`auto_update_timestamp.lua`)

åœ¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ›´æ–° `Last Modified:` æ—¶é—´æˆ³ï¼š

- åªæœç´¢æ–‡ä»¶å‰ 50 è¡Œï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
- æ”¯æŒå¤šç§æ—¶é—´æˆ³æ ¼å¼
- ä½¿ç”¨æ–‡ä»¶ç±»å‹è€Œéæ–‡ä»¶æ‰©å±•åï¼ˆæ›´å‡†ç¡®ï¼‰

### Snippets (`snippets/`)

æ¨¡å—åŒ–çš„ snippet é…ç½®ï¼š

- `headers.lua` - æ–‡ä»¶å¤´ç”Ÿæˆå™¨
- `utils.lua` - å·¥å…·å‡½æ•°ï¼ˆè·å–æ–‡ä»¶åã€æ—¶é—´ç­‰ï¼‰

## ğŸ”§ é…ç½®ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–

1. **å¤§æ–‡ä»¶å¤„ç†**ï¼šå·²é…ç½® bigfile-nvimï¼Œè‡ªåŠ¨ç¦ç”¨å¤§æ–‡ä»¶çš„é‡å‹åŠŸèƒ½
2. **æ’ä»¶å»¶è¿ŸåŠ è½½**ï¼šå…³é”®æ’ä»¶ä½¿ç”¨ `event = "VeryLazy"` å»¶è¿ŸåŠ è½½
3. **Treesitter**ï¼šç¦ç”¨ vim æ­£åˆ™é«˜äº®ï¼Œåªä½¿ç”¨ treesitter é«˜äº®

### æ’ä»¶ç®¡ç†

1. **è¯­è¨€åŒ…**ï¼šåªå®‰è£…å¸¸ç”¨è¯­è¨€ï¼Œä¸å¸¸ç”¨çš„å·²æ³¨é‡Š
2. **Fuzzy Finder**ï¼šç»Ÿä¸€ä½¿ç”¨ snacks-pickerï¼Œç§»é™¤å†—ä½™çš„ fzf-lua å’Œ namu-nvim
3. **æ¨èæ’ä»¶**ï¼šåœ¨ `recommended-additions.lua` ä¸­æŒ‰éœ€å¯ç”¨

### é”®æ˜ å°„å»ºè®®

æ ¸å¿ƒé”®æ˜ å°„å·²åœ¨ `plugins/astrocore.lua` ä¸­é…ç½®ï¼š

- `<C-s>` - ä¿å­˜æ–‡ä»¶ï¼ˆNormal å’Œ Insert æ¨¡å¼ï¼‰
- `jk` - é€€å‡º Insert æ¨¡å¼ï¼ˆæ›´èˆ’é€‚ï¼‰
- `<Leader>q` / `<Leader>Q` - é€€å‡º / å¼ºåˆ¶é€€å‡º
- çª—å£å¯¼èˆªï¼š`<C-h/j/k/l>` - å¿«é€Ÿåˆ‡æ¢çª—å£

## ğŸ©º å¥åº·æ£€æŸ¥

è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥é…ç½®çŠ¶æ€ï¼š

```vim
:checkhealth
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [AstroNvim æ–‡æ¡£](https://docs.astronvim.com/)
- [AstroCommunity æ’ä»¶åˆ—è¡¨](https://github.com/AstroNvim/astrocommunity)
- [Lazy.nvim æ–‡æ¡£](https://github.com/folke/lazy.nvim)

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šSnippets ä¸å·¥ä½œ

1. æ£€æŸ¥ LuaSnip æ˜¯å¦æ­£ç¡®åŠ è½½ï¼š`:Lazy`
2. ç¡®è®¤æ–‡ä»¶ç±»å‹æ­£ç¡®ï¼š`:set filetype?`
3. æŸ¥çœ‹ snippets æ˜¯å¦åŠ è½½ï¼š`:LuaSnipListAvailable`

### é—®é¢˜ï¼šæ—¶é—´æˆ³ä¸æ›´æ–°

1. ç¡®è®¤æ–‡ä»¶ç±»å‹åœ¨ `constants.timestamp_filetypes` ä¸­
2. æ£€æŸ¥æ–‡ä»¶å¤´æ˜¯å¦åŒ…å« `Last Modified:` æ ‡è®°
3. æŸ¥çœ‹ autocmdï¼š`:au BufWritePre`

### é—®é¢˜ï¼šLSP ä¸å·¥ä½œ

1. è¿è¡Œå¥åº·æ£€æŸ¥ï¼š`:checkhealth`
2. æ£€æŸ¥ LSP æ—¥å¿—ï¼š`:LspLog`
3. ç¡®è®¤ language server å·²å®‰è£…ï¼š`:Mason`

## ğŸ”„ æ›´æ–°é…ç½®

```bash
# æ›´æ–° AstroNvim å’Œæ’ä»¶
:Lazy sync

# æ›´æ–° Mason å·¥å…·
:Mason
# ç„¶åæŒ‰ U æ›´æ–°æ‰€æœ‰å·¥å…·
```

## ğŸ’¡ æç¤º

1. ä½¿ç”¨ `:AstroUpdate` æ›´æ–° AstroNvim
2. ä½¿ç”¨ `:Lazy profile` æŸ¥çœ‹æ’ä»¶åŠ è½½æ—¶é—´
3. å®šæœŸè¿è¡Œ `:checkhealth` æ£€æŸ¥é…ç½®å¥åº·åº¦
4. å¤‡ä»½é…ç½®åå†è¿›è¡Œå¤§æ”¹åŠ¨
